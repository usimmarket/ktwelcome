<!doctype html>
<html lang="ko">
<head>
<meta charset="utf-8"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>KT WELCOME 가입신청서</title>
<style>
  :root{
    --bg:#0c1322; --card:#fff; --line:#e5e7eb; --muted:#6b7280; --title:#0f172a; --accent:#0ea5e9;
  }
  html,body{margin:0;background:var(--bg);font-family:system-ui,-apple-system,Segoe UI,Roboto,"Noto Sans KR",sans-serif}
  .wrap{max-width:980px;margin:0 auto;padding:16px}
  /* Top bar */
  .top{position:sticky;top:0;background:var(--bg);z-index:5;padding:10px 0}
  .toprow{display:flex;align-items:center;gap:12px}
  .logo{display:flex;align-items:center;gap:8px}
  .logo img{height:28px}
  .titlewrap{flex:1;display:flex;justify-content:center}
  .title{color:#fff;font-weight:700}
  .langs{display:flex;gap:8px}
  .chip{border:1px solid rgba(203,213,225,.45);color:#cbd5e1;background:transparent;border-radius:999px;padding:6px 10px;cursor:pointer}
  .chip.active{background:#334155;border-color:#334155;color:#fff}
  /* Card */
  .card{background:var(--card);border-radius:14px;margin:12px 0;padding:16px;box-shadow:0 1px 3px rgba(0,0,0,.08)}
  .card h3{margin:0 0 10px 0;color:var(--title);font-size:18px}
  /* Inputs */
  label{display:block;color:#64748b;margin:8px 0 6px;font-size:13px}
  input[type=text],select{width:100%;padding:11px 12px;border:1px solid var(--line);border-radius:10px;font-size:14px}
  input[readonly]{background:#f3f4f6;color:#6b7280}
  .grid{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  @media (max-width:860px){ .grid{grid-template-columns:1fr} }
  .row{display:grid;grid-template-columns:1fr 1fr;gap:12px}
  .seg{display:flex;gap:14px;align-items:center;margin:6px 0}
  .seg label{margin:0;color:#111;font-size:14px}
  .note{font-size:12px;color:#6b7280;margin-top:6px}
  .btnbar{display:flex;gap:10px;justify-content:flex-end;margin:14px 0 32px}
  .btn{appearance:none;border:1px solid #cbd5e1;background:#fff;border-radius:10px;padding:10px 14px;font-weight:700;cursor:pointer}
  .btn.primary{background:var(--accent);border-color:var(--accent);color:#fff}
  .fixed{background:#f3f4f6;border:1px dashed #e5e7eb;border-radius:10px;padding:10px;color:#6b7280}
  .hide{display:none}
</style>
</head>
<body>
<div class="wrap">

  <!-- 상단 바: 좌 로고 / 중앙 타이틀 / 우측 언어 버튼(한 줄) -->
  <div class="top">
    <div class="toprow">
      <div class="logo">
        <img src="./USIMMARKET.png" alt="usim market" onerror="this.style.display='none'">
      </div>
      <div class="titlewrap"><div class="title">KT WELCOME 가입신청서</div></div>
      <div class="langs">
        <button class="chip active" data-lang="KR">KR</button>
        <button class="chip" data-lang="US">US</button>
        <button class="chip" data-lang="VN">VN</button>
        <button class="chip" data-lang="TH">TH</button>
        <button class="chip" data-lang="KH">KH</button>
      </div>
    </div>
  </div>

  <!-- 서버로 직접 제출 -->
  <form action="/generate" method="POST" target="_blank" id="form">

    <!-- 요금제 -->
    <section class="card">
      <h3 data-i18n="sec_plan">요금제</h3>
      <div class="grid">
        <div>
          <label data-i18n="plan">요금제</label>
          <select name="plan" id="plan" required>
            <option value="">선택</option>
            <option value="wel5">5G 웰컴5 (통화200분/25GB+5Mbps)</option>
            <option value="wel3">5G 웰컴3 (통화200분/3GB+5Mbps)</option>
            <option value="wel1">5G 웰컴1 (통화200분/1GB+3Mbps)</option>
          </select>
        </div>
        <div class="fixed" data-i18n="plan_note">요금제 선택 시 총 요금할인/월 이용료/요금 할인/월 청구금액은 서버에서 자동 기입됩니다.</div>
      </div>
    </section>

    <!-- 고객정보 -->
    <section class="card">
      <h3 data-i18n="sec_customer">고객정보</h3>

      <div class="seg">
        <label><input type="radio" name="join_type" value="new" checked> <span data-i18n="new">신규</span></label>
        <label><input type="radio" name="join_type" value="port"> <span data-i18n="port">번호이동</span></label>
      </div>

      <div class="grid">
        <div>
          <label data-i18n="addr">주소</label>
          <input type="text" name="address" id="address" placeholder="도로명 주소" />
        </div>
        <div>
          <label data-i18n="birth">생년월일</label>
          <input type="text" name="birth" id="birth" inputmode="numeric" pattern="\d*" placeholder="6 또는 8자리 숫자" />
        </div>

        <div>
          <label data-i18n="gender">성별</label>
          <div class="seg">
            <label><input type="radio" name="gender" value="남"> <span data-i18n="male">남</span></label>
            <label><input type="radio" name="gender" value="여"> <span data-i18n="female">여</span></label>
          </div>
        </div>

        <div>
          <label data-i18n="sim">유심 일련번호</label>
          <input type="text" name="sim_serial" id="sim_serial" />
        </div>

        <div>
          <label data-i18n="smslang">문자안내 선호언어</label>
          <select name="pref_langs" id="pref_langs">
            <option>한국어</option><option>영어</option><option>중국어</option><option>베트남어</option><option>러시아어</option>
          </select>
        </div>
      </div>

      <!-- 번호이동 전용 -->
      <div class="grid hide" id="portBox">
        <div>
          <label data-i18n="portnum">이동할 전화번호</label>
          <input type="text" name="port_number" id="port_number" inputmode="numeric" pattern="\d*"/>
        </div>
        <div>
          <label data-i18n="prevcarrier">변경전 통신사</label>
          <select name="prev_carrier" id="prev_carrier">
            <option value="" data-i18n="sel">선택</option>
            <option>SK</option>
            <option>LG U+</option>
            <option>MVNO</option>
          </select>
        </div>
        <div class="hide" id="mvnoBox">
          <label data-i18n="mvnoname">통신사명(MVNO)</label>
          <input type="text" name="mvno_name" id="mvno_name"/>
        </div>
      </div>

      <!-- 가입자명 고정 안내(입력 불가) -->
      <div class="grid">
        <div>
          <label data-i18n="subscriber">가입자명</label>
          <input type="text" value="성함과 사인은 직접 작성 필수" readonly />
        </div>
        <div>
          <label data-i18n="wish4">희망번호(4자리)</label>
          <input type="text" id="wish4" inputmode="numeric" pattern="\d*"/>
        </div>
      </div>
    </section>

    <!-- 유심정보 -->
    <section class="card">
      <h3 data-i18n="sec_usim">유심정보</h3>
      <div class="grid">
        <div>
          <label data-i18n="usimfee">유심비용</label>
          <input type="text" value="7,700원 후납" readonly/>
        </div>
      </div>
    </section>

    <!-- 자동이체 -->
    <section class="card">
      <h3 data-i18n="sec_pay">자동이체</h3>

      <label data-i18n="prefsms">문자안내 선호언어</label>
      <div class="seg">
        <label><input type="radio" name="pref_langs_radio" value="영어">영어</label>
        <label><input type="radio" name="pref_langs_radio" value="중국어">중국어</label>
        <label><input type="radio" name="pref_langs_radio" value="베트남어">베트남어</label>
        <label><input type="radio" name="pref_langs_radio" value="러시아어">러시아어</label>
        <label><input type="radio" name="pref_langs_radio" value="한국어" checked>한국어</label>
      </div>

      <label data-i18n="method">방식</label>
      <div class="seg">
        <label><input type="radio" name="payMethod" value="bank" checked> <span data-i18n="bank">은행</span></label>
        <label><input type="radio" name="payMethod" value="card"> <span data-i18n="card">카드</span></label>
      </div>

      <div class="grid" id="bankBox">
        <div>
          <label data-i18n="holder_fixed">예금주명</label>
          <input type="text" value="성함과 사인은 직접 작성 필수" readonly/>
        </div>
        <div>
          <label data-i18n="bankname">은행</label>
          <input type="text" name="bank_name" id="bank_name"/>
        </div>
        <div>
          <label data-i18n="account">계좌번호</label>
          <input type="text" name="bank_account" id="bank_account" inputmode="numeric" pattern="\d*"/>
        </div>
      </div>

      <div class="grid hide" id="cardBox">
        <div>
          <label data-i18n="cardholder_fixed">카드주명</label>
          <input type="text" value="성함과 사인은 직접 작성 필수" readonly/>
        </div>
        <div>
          <label data-i18n="cardco">카드사</label>
          <input type="text" name="card_company" id="card_company"/>
        </div>
        <div>
          <label data-i18n="cardno">카드번호</label>
          <input type="text" name="card_number" id="card_number" inputmode="numeric" pattern="\d*"/>
        </div>
        <div>
          <label data-i18n="expyear">유효기간(년)</label>
          <input type="text" name="card_exp_year" id="card_exp_year" inputmode="numeric" pattern="\d*"/>
        </div>
        <div>
          <label data-i18n="expmonth">유효기간(월)</label>
          <input type="text" name="card_exp_month" id="card_exp_month" inputmode="numeric" pattern="\d*"/>
        </div>
      </div>

      <div class="note" data-i18n="note">※ 가입자명/예금주명/카드주명은 자필 작성(출력 후)</div>
    </section>

    <!-- 부가서비스 -->
    <section class="card">
      <h3 data-i18n="sec_addon">부가서비스</h3>
      <div class="seg">
        <button type="button" class="btn" disabled data-i18n="intl_block">국제전화 차단: 적용</button>
        <button type="button" class="btn" disabled data-i18n="roam_block">로밍차단: 적용</button>
      </div>
    </section>

    <div class="btnbar">
      <button class="btn" type="reset" data-i18n="reset">초기화</button>
      <button class="btn" type="submit" name="mode" value="inline" data-i18n="print">미리보기/인쇄</button>
      <button class="btn primary" type="submit" name="mode" value="download" data-i18n="savepdf">PDF 저장</button>
    </div>
  </form>
</div>

<script>
/* 숫자만 입력 */
['birth','bank_account','card_number','card_exp_year','card_exp_month','port_number','wish4']
  .forEach(id=>{ const el=document.getElementById(id); if(!el) return;
    el.addEventListener('input',()=>{ el.value=(el.value||'').replace(/\D+/g,''); }); });

/* 번호이동 토글 */
function updateJoin(){
  const isPort = document.querySelector('input[name="join_type"]:checked')?.value==='port';
  document.getElementById('portBox').classList.toggle('hide',!isPort);
}
document.querySelectorAll('input[name="join_type"]').forEach(r=>r.addEventListener('change',updateJoin));
updateJoin();

/* MVNO 입력칸 토글 */
document.getElementById('prev_carrier')?.addEventListener('change',e=>{
  document.getElementById('mvnoBox').classList.toggle('hide', e.target.value!=='MVNO');
});

/* 결제방식 토글 */
function updatePay(){
  const pm=document.querySelector('input[name="payMethod"]:checked')?.value||'bank';
  document.getElementById('bankBox').classList.toggle('hide', pm!=='bank');
  document.getElementById('cardBox').classList.toggle('hide', pm!=='card');
}
document.querySelectorAll('input[name="payMethod"]').forEach(r=>r.addEventListener('change',updatePay));
updatePay();

/* 자동: 라디오 언어 → select name=pref_langs 에도 반영(서버용) */
const hiddenSelect = document.getElementById('pref_langs');
document.querySelectorAll('input[name="pref_langs_radio"]').forEach(r=>{
  r.addEventListener('change',()=>{ if(r.checked) hiddenSelect.value=r.value; });
});

/* 간단 필수값 체크 */
document.getElementById('form').addEventListener('submit', e=>{
  const req = [['plan','요금제'], ['sim_serial','유심 일련번호'], ['gender','성별']];
  for(const [n, label] of req){
    const el = document.querySelector(n==='gender' ? 'input[name="gender"]:checked' : `[name="${n}"]`);
    if(!el || !(el.value||'').trim()){ e.preventDefault(); alert(label+'은(는) 필수입니다.'); return; }
  }
});

/* 다국어 라벨 */
const I18N={
  KR:{sec_plan:"요금제", plan:"요금제", plan_note:"요금제 선택 시 총 요금할인/월 이용료/요금 할인/월 청구금액은 서버에서 자동 기입됩니다.",
      sec_customer:"고객정보", new:"신규", port:"번호이동", addr:"주소", birth:"생년월일", gender:"성별", male:"남", female:"여",
      sim:"유심 일련번호", smslang:"문자안내 선호언어", portnum:"이동할 전화번호", prevcarrier:"변경전 통신사", mvnoname:"통신사명(MVNO)",
      subscriber:"가입자명", wish4:"희망번호(4자리)", sec_usim:"유심정보", usimfee:"유심비용",
      sec_pay:"자동이체", prefsms:"문자안내 선호언어", method:"방식", bank:"은행", card:"카드",
      holder_fixed:"예금주명", bankname:"은행", account:"계좌번호", cardholder_fixed:"카드주명", cardco:"카드사", cardno:"카드번호",
      expyear:"유효기간(년)", expmonth:"유효기간(월)", note:"※ 가입자명/예금주명/카드주명은 자필 작성(출력 후)",
      sec_addon:"부가서비스", intl_block:"국제전화 차단: 적용", roam_block:"로밍차단: 적용",
      reset:"초기화", print:"미리보기/인쇄", savepdf:"PDF 저장", sel:"선택"},
  US:{sec_plan:"Plan", plan:"Plan", plan_note:"Discount/Monthly/Bill are auto-filled on server.",
      sec_customer:"Customer Info", new:"New", port:"Number Porting", addr:"Address",
      birth:"Birth", gender:"Gender", male:"Male", female:"Female", sim:"SIM Serial",
      smslang:"Preferred SMS Language", portnum:"Porting Number", prevcarrier:"Previous Carrier", mvnoname:"MVNO Name",
      subscriber:"Subscriber Name", wish4:"Desired 4 digits",
      sec_usim:"USIM Info", usimfee:"USIM Fee",
      sec_pay:"Auto Payment", prefsms:"SMS Language", method:"Method", bank:"Bank", card:"Card",
      holder_fixed:"Account Holder", bankname:"Bank", account:"Account No.",
      cardholder_fixed:"Card Holder", cardco:"Card Company", cardno:"Card Number",
      expyear:"Expiry (Year)", expmonth:"Expiry (Month)", note:"※ Name/holder will be handwritten after print.",
      sec_addon:"Add-on", intl_block:"Block Intl Calls (Applied)", roam_block:"Block Roaming (Applied)",
      reset:"Reset", print:"Preview/Print", savepdf:"Save PDF", sel:"Select"},
  VN:{sec_plan:"Gói cước", plan:"Gói cước", plan_note:"Giảm giá/Phí tháng/Hóa đơn tự điền trên máy chủ.",
      sec_customer:"Thông tin KH", new:"Mới", port:"Chuyển mạng", addr:"Địa chỉ",
      birth:"Ngày sinh", gender:"Giới tính", male:"Nam", female:"Nữ", sim:"Số seri SIM",
      smslang:"Ngôn ngữ SMS ưu tiên", portnum:"Số cần chuyển", prevcarrier:"Nhà mạng cũ", mvnoname:"Tên MVNO",
      subscriber:"Tên người đăng ký", wish4:"4 số mong muốn",
      sec_usim:"Thông tin USIM", usimfee:"Phí USIM",
      sec_pay:"Thanh toán tự động", prefsms:"Ngôn ngữ SMS", method:"Hình thức", bank:"Ngân hàng", card:"Thẻ",
      holder_fixed:"Chủ tài khoản", bankname:"Ngân hàng", account:"Số tài khoản",
      cardholder_fixed:"Chủ thẻ", cardco:"Công ty thẻ", cardno:"Số thẻ",
      expyear:"Năm hết hạn", expmonth:"Tháng hết hạn", note:"※ Viết tay sau khi in.",
      sec_addon:"Dịch vụ bổ sung", intl_block:"Chặn gọi quốc tế: Áp dụng", roam_block:"Chặn roaming: Áp dụng",
      reset:"Làm mới", print:"Xem trước/In", savepdf:"Lưu PDF", sel:"Chọn"},
  TH:{sec_plan:"แพ็กเกจ", plan:"แพ็กเกจ", plan_note:"ส่วนลด/ค่าบริการ/บิลจะกรอกอัตโนมัติ",
      sec_customer:"ข้อมูลลูกค้า", new:"เปิดใหม่", port:"ย้ายค่าย", addr:"ที่อยู่",
      birth:"วันเกิด", gender:"เพศ", male:"ชาย", female:"หญิง", sim:"หมายเลขซิม",
      smslang:"ภาษาข้อความ", portnum:"เบอร์ที่จะย้าย", prevcarrier:"เครือข่ายเดิม", mvnoname:"ชื่อ MVNO",
      subscriber:"ชื่อผู้สมัคร", wish4:"4 หลักที่ต้องการ",
      sec_usim:"ข้อมูล USIM", usimfee:"ค่าซิม",
      sec_pay:"ตัดบัญชี/บัตร", prefsms:"ภาษา SMS", method:"วิธี", bank:"ธนาคาร", card:"บัตร",
      holder_fixed:"ชื่อบัญชี", bankname:"ธนาคาร", account:"เลขที่บัญชี",
      cardholder_fixed:"ชื่อผู้ถือบัตร", cardco:"บริษัทบัตร", cardno:"หมายเลขบัตร",
      expyear:"ปีหมดอายุ", expmonth:"เดือนหมดอายุ", note:"※ ลงชื่อด้วยลายมือหลังพิมพ์",
      sec_addon:"บริการเสริม", intl_block:"บล็อกโทรต่างประเทศ: ใช้งาน", roam_block:"บล็อกโรมมิ่ง: ใช้งาน",
      reset:"ล้าง", print:"พิมพ์", savepdf:"บันทึก PDF", sel:"เลือก"},
  KH:{sec_plan:"កញ្ចប់សេវា", plan:"កញ្ចប់សេវា", plan_note:"បញ្ចូលស្វ័យប្រវត្តិលើម៉ាស៊ីនមេ",
      sec_customer:"ព័ត៌មានអតិថិជន", new:"ថ្មី", port:"ផ្លាស់ប្តូរបណ្ដាញ", addr:"អាសយដ្ឋាន",
      birth:"ថ្ងៃកំណើត", gender:"ភេទ", male:"ប្រុស", female:"ស្រី", sim:"លេខសេរីស៊ីម",
      smslang:"ភាសា SMS", portnum:"លេខត្រូវផ្លាស់ប្តូរ", prevcarrier:"បណ្តាញដើម", mvnoname:"ឈ្មោះ MVNO",
      subscriber:"ឈ្មោះអ្នកចុះឈ្មោះ", wish4:"លេខចង់បាន 4 ខ្ទង់",
      sec_usim:"ព័ត៌មាន USIM", usimfee:"ថ្លៃស៊ីម",
      sec_pay:"បង់ប្រាក់ស្វ័យប្រវត្តិ", prefsms:"ភាសា SMS", method:"វិធី", bank:"ធនាគារ", card:"កាត",
      holder_fixed:"ម្ចាស់គណនី", bankname:"ធនាគារ", account:"លេខគណនី",
      cardholder_fixed:"ម្ចាស់កាត", cardco:"ក្រុមហ៊ុនកាត", cardno:"លេខកាត",
      expyear:"ឆ្នាំផុតកំណត់", expmonth:"ខែផុតកំណត់", note:"※ ចុះហត្ថលេខាក្រោយបោះពុម្ព",
      sec_addon:"សេវាបន្ថែម", intl_block:"ទប់ស្កាត់ទូរស័ព្ទកៅស៊ូអន្តរជាតិ: អនុវត្ត", roam_block:"ទប់ស្កាត់រោមីង: អនុវត្ត",
      reset:"កំណត់ឡើងវិញ", print:"បោះពុម្ព", savepdf:"រក្សាទុក PDF", sel:"ជ្រើស"}
};
function setLang(lang){
  document.querySelectorAll('.chip').forEach(b=>b.classList.toggle('active', b.dataset.lang===lang));
  const t=I18N[lang]||I18N.KR;
  document.querySelectorAll('[data-i18n]').forEach(el=>{
    const k=el.getAttribute('data-i18n'); if(t[k]) el.textContent=t[k];
  });
  document.getElementById('address').placeholder = lang==='US'?'Address':'도로명 주소';
  document.getElementById('birth').placeholder   = lang==='US'?'YYMMDD or YYYYMMDD':'6 또는 8자리 숫자';
  // 선택 placeholder
  document.querySelectorAll('#prev_carrier option[value=""]').forEach(o=>o.textContent=t.sel||'선택');
}
document.querySelectorAll('.chip').forEach(b=>b.addEventListener('click',()=>setLang(b.dataset.lang)));
setLang('KR');
</script>
</body>
</html>
